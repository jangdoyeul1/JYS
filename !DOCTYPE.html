<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ì˜ìƒê³¼ ì¸ê¸° ëŒ“ê¸€</title>
<style>
  #player iframe {
    width: 100%;
    height: 360px;
    border: none;
    border-radius: 12px;
  }
  #commentSection {
    padding: 20px 40px;
    color: #333;
    background-color: #f9f9f9;
    border-radius: 12px;
    margin-top: 20px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  #commentSection strong {
    font-size: 18px;
    display: block;
    margin-bottom: 10px;
  }
  .comment {
    border-top: 1px solid #ccc;
    padding: 10px 0;
  }
  .comment strong {
    font-weight: 600;
  }
  .comment small {
    color: #666;
  }
</style>
</head>
<body>

<div id="player"></div>
<div id="commentSection"></div>

<script>
  const API_KEY = 'YOUR_YOUTUBE_API_KEY_HERE'; // ë³¸ì¸ì˜ API í‚¤ë¡œ êµì²´í•˜ì„¸ìš”

  async function playVideo(videoId) {
    // ì˜ìƒ í”Œë ˆì´ì–´
    const player = document.getElementById('player');
    player.innerHTML = `<iframe src="https://www.youtube.com/embed/${videoId}" allowfullscreen></iframe>`;

    // ëŒ“ê¸€ ì˜ì—­ ì´ˆê¸°í™” ë° ë¡œë”© í‘œì‹œ
    const commentSection = document.getElementById('commentSection');
    commentSection.innerHTML = '<strong>ì¸ê¸° ëŒ“ê¸€</strong><p>ëŒ“ê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>';

    try {
      // ìœ íŠœë¸Œ ëŒ“ê¸€ API í˜¸ì¶œ - ì¸ê¸°ëŒ“ê¸€ 20ê°œ
      const url = `https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&videoId=${videoId}&maxResults=20&order=relevance&key=${API_KEY}`;
      const res = await fetch(url);
      const data = await res.json();

      if (!data.items || data.items.length === 0) {
        commentSection.innerHTML = '<strong>ì¸ê¸° ëŒ“ê¸€</strong><p>ëŒ“ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
        return;
      }

      commentSection.innerHTML = '<strong>ì¸ê¸° ëŒ“ê¸€</strong>';

      data.items.forEach(item => {
        const comment = item.snippet.topLevelComment.snippet;
        const author = comment.authorDisplayName;
        const text = comment.textDisplay;
        const likeCount = comment.likeCount;
        const publishedAt = new Date(comment.publishedAt).toLocaleDateString();

        const commentDiv = document.createElement('div');
        commentDiv.className = 'comment';
        commentDiv.innerHTML = `
          <strong>${author}</strong> Â· <small>${publishedAt}</small><br/>
          <span>${text}</span><br/>
          <small>ğŸ‘ ${likeCount.toLocaleString()}</small>
        `;

        commentSection.appendChild(commentDiv);
      });
    } catch {
      commentSection.innerHTML = '<strong>ì¸ê¸° ëŒ“ê¸€</strong><p>ëŒ“ê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>';
    }
  }

  // ì˜ˆì‹œ ì‹¤í–‰ (ì—¬ê¸°ì— ë³´ê³  ì‹¶ì€ ìœ íŠœë¸Œ ì˜ìƒ ID ë„£ìœ¼ì„¸ìš”)
  playVideo('dQw4w9WgXcQ');
</script>

</body>
</html>
